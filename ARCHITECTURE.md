# Claude-Gemini Bridge æ¶æ„ä¸åŠŸèƒ½è¯´æ˜

**ç‰ˆæœ¬**: 1.1.0
**æ›´æ–°æ—¥æœŸ**: 2026-01-08
**è®¾è®¡ç†å¿µ**: ç®€æ´ã€å®ç”¨ã€ç¬¦åˆ MCP æœ€ä½³å®è·µ

---

## ğŸ“‹ ç›®å½•

1. [æ¶æ„æ¦‚è¿°](#æ¶æ„æ¦‚è¿°)
2. [è®¾è®¡åŸåˆ™](#è®¾è®¡åŸåˆ™)
3. [æŠ€æœ¯æ ˆ](#æŠ€æœ¯æ ˆ)
4. [æ™ºèƒ½é¡¹ç›®ç±»å‹æ£€æµ‹](#æ™ºèƒ½é¡¹ç›®ç±»å‹æ£€æµ‹) ğŸ†•
5. [MCP Server](#mcp-server)
6. [Skills ç³»ç»Ÿ](#skills-ç³»ç»Ÿ)
7. [Agents ç³»ç»Ÿ](#agents-ç³»ç»Ÿ)
8. [æ•°æ®æµ](#æ•°æ®æµ)
9. [å®‰å…¨æ€§](#å®‰å…¨æ€§)
10. [æ€§èƒ½è€ƒè™‘](#æ€§èƒ½è€ƒè™‘)
11. [æ‰©å±•æ€§](#æ‰©å±•æ€§)

---

## æ¶æ„æ¦‚è¿°

Claude-Gemini Bridge é‡‡ç”¨ **ä¸‰å±‚æ¶æ„**ï¼Œæ¯ä¸€å±‚éƒ½æœ‰æ˜ç¡®çš„èŒè´£ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ç”¨æˆ·äº¤äº’å±‚                                â”‚
â”‚  Claude Code (ä¸»æ¡†æ¶) + è‡ªç„¶è¯­è¨€è§¦å‘                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ç¼–æ’å±‚ (Orchestration)                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ Skills       â”‚  â”‚ Agents       â”‚  â”‚ Direct Tools â”‚      â”‚
â”‚  â”‚ çŸ¥è¯†å°è£…     â”‚  â”‚ ä»»åŠ¡ç¼–æ’     â”‚  â”‚ ç›´æ¥è°ƒç”¨     â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    åŸºç¡€è®¾æ–½å±‚ (Infrastructure)               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚            MCP Server (gemini-mcp-server)            â”‚  â”‚
â”‚  â”‚  - gemini_chat        - åŸºç¡€å¯¹è¯                     â”‚  â”‚
â”‚  â”‚  - gemini_model_info  - ç¯å¢ƒä¿¡æ¯                     â”‚  â”‚
â”‚  â”‚  - gemini_analyze     - æ·±åº¦åˆ†æ (ğŸ†•)                â”‚  â”‚
â”‚  â”‚  - init_gemini        - é¡¹ç›®åˆå§‹åŒ– (ğŸ†•)              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                          â”‚                                  â”‚
â”‚                          â–¼                                  â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”‚
â”‚              â”‚   Gemini CLI         â”‚                      â”‚
â”‚              â”‚   (å¤–éƒ¨ä¾èµ–)         â”‚                      â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å…³é”®è®¾è®¡å†³ç­–

#### 1. **"ç˜¦å·¥å…·ï¼Œèƒ–æç¤ºè¯"åŸåˆ™** âœ…

**æ‹’ç»**: å·¥å…·åŒ…å«ä¸šåŠ¡é€»è¾‘ï¼ˆå¦‚å·²åˆ é™¤çš„ `gemini_compare`ï¼‰
**é‡‡ç”¨**: å·¥å…·åªæä¾›åŸå­èƒ½åŠ›ï¼Œé€»è¾‘åœ¨ Prompt ä¸­

**ä¼˜åŠ¿**:
- çµæ´»æ€§é«˜ï¼ˆä¿®æ”¹ Prompt å³å¯ï¼Œæ— éœ€æ”¹ä»£ç ï¼‰
- ç¬¦åˆ LLM ç‰¹æ€§ï¼ˆLLM æ“…é•¿æ–‡æœ¬å¤„ç†ï¼‰
- å‡å°‘ç»´æŠ¤æˆæœ¬

#### 2. **è‡ªç„¶è¯­è¨€è§¦å‘** âœ…

**æ‹’ç»**: Slash commandsï¼ˆæŠ€æœ¯ä¸Šä¸æ”¯æŒï¼‰
**é‡‡ç”¨**: è‡ªç„¶è¯­è¨€å…³é”®è¯è§¦å‘ Skills/Agents

**ä¼˜åŠ¿**:
- ç¬¦åˆ Claude Code è®¾è®¡ç†å¿µ
- ç”¨æˆ·ä½“éªŒè‡ªç„¶æµç•…
- æ— éœ€è®°å¿†å¤æ‚å‘½ä»¤

#### 3. **ç‹¬ç«‹ä¸Šä¸‹æ–‡å®¡æŸ¥** âœ…

**å®ç°**: dual-review Skill è®©ä¸¤ä¸ª AI ç‹¬ç«‹åˆ†æåæ±‡æ€»

**ä¼˜åŠ¿**:
- é¿å… anchor biasï¼ˆé”šå®šåå·®ï¼‰
- è·å¾—çœŸæ­£ç‹¬ç«‹çš„ç¬¬äºŒæ„è§
- å‡å°‘ç›²ç‚¹

---

## è®¾è®¡åŸåˆ™

### 1. ç®€æ´æ€§ (Simplicity)

> "ç®€å•æ˜¯å¤æ‚çš„ç»ˆæè¡¨ç°" - è¾¾èŠ¬å¥‡

- âœ… å·¥å…·æ•°é‡ç²¾ç®€ï¼ˆ4ä¸ªï¼Œä¸æ˜¯ 10 ä¸ªï¼‰
- âœ… æ¯ä¸ª Skill èŒè´£å•ä¸€
- âœ… é¿å…è¿‡åº¦è®¾è®¡

### 2. å®ç”¨æ€§ (Practicality)

> "è§£å†³å®é™…é—®é¢˜ï¼Œè€Œä¸æ˜¯ç‚«æŠ€"

- âœ… åŸºäºçœŸå®éœ€æ±‚åœºæ™¯
- âœ… å¿«é€Ÿå“åº”ï¼ˆ1-5 ç§’ï¼‰
- âœ… æ¸…æ™°çš„é”™è¯¯æç¤º

### 3. å¯ç»´æŠ¤æ€§ (Maintainability)

> "ä»£ç å†™ä¸€æ¬¡ï¼Œè¯»å¾ˆå¤šæ¬¡"

- âœ… å®Œæ•´çš„ JSDoc æ–‡æ¡£
- âœ… æ¸…æ™°çš„ä»£ç ç»“æ„
- âœ… 13/13 æµ‹è¯•é€šè¿‡

### 4. æ‰©å±•æ€§ (Extensibility)

> "ä¸ºæœªæ¥å˜åŒ–åšå‡†å¤‡"

- âœ… MCP åè®®æ ‡å‡†åŒ–
- âœ… æ˜“äºæ·»åŠ æ–°å·¥å…·
- âœ… Skills/Agents ç‹¬ç«‹æ›´æ–°

### 5. å®‰å…¨æ€§ (Security)

> "å®‰å…¨æ€§ä¸æ˜¯å¯é€‰é¡¹"

- âœ… ä½¿ç”¨ `spawn` è€Œé `exec`ï¼ˆé¿å…å‘½ä»¤æ³¨å…¥ï¼‰
- âœ… å‚æ•°è‡ªåŠ¨è½¬ä¹‰
- âœ… ç¯å¢ƒå˜é‡éš”ç¦»

---

## æŠ€æœ¯æ ˆ

### MCP Server (Node.js)

```javascript
{
  "runtime": "Node.js >= 18.0.0",
  "dependencies": {
    "@modelcontextprotocol/sdk": "^1.0.4"  // MCP åè®®æ”¯æŒ
  },
  "external": {
    "Gemini CLI": "npm install -g @google/gemini-cli"
  }
}
```

**å…³é”®å®ç°**:
- **è¿›ç¨‹ç®¡ç†**: `child_process.spawn`ï¼ˆå®‰å…¨ï¼‰
- **åè®®**: MCP SDK (stdio transport)
- **é”™è¯¯å¤„ç†**: åˆ†å±‚é”™è¯¯æ•è·
- **è¶…æ—¶æ§åˆ¶**: å¯é…ç½®ï¼ˆ`GEMINI_TIMEOUT` env varï¼‰

### Skills & Agents

- **æ ¼å¼**: Markdown (`.md`)
- **ä½ç½®**: `~/.claude/skills/` å’Œ `~/.claude/agents/` æˆ–é¡¹ç›®çš„ `skills/` å’Œ `agents/`
- **è§¦å‘**: Frontmatter `description` å­—æ®µ
- **å·¥å…·æƒé™**: `allowed-tools` / `tools` å­—æ®µ

---

## æ™ºèƒ½é¡¹ç›®ç±»å‹æ£€æµ‹ ğŸ†•

### è®¾è®¡åŠ¨æœº

**é—®é¢˜**: æ—©æœŸç‰ˆæœ¬å‡è®¾æ‰€æœ‰é¡¹ç›®éƒ½æ˜¯ç¼–ç¨‹é¡¹ç›®ï¼Œç¡¬ç¼–ç äº†æºä»£ç ç›®å½•æ‰«æã€‚

**ç”¨æˆ·åé¦ˆ**:
> "ä½ æ˜¯è®¤ä¸ºæˆ‘åªä½¿ç”¨ Claude Code æˆ–è€… Gemini åšç¼–ç¨‹çš„å·¥ä½œå—?
> ä½ è¿˜è®°å¾—æˆ‘ä»¬å“ªä¸ª engineer-method é¡¹ç›®äº†å—?è¿™ä¸ªå°±ä¸æ˜¯ç¼–ç¨‹çš„å“¦"

**è§£å†³**: å®ç°æ™ºèƒ½é¡¹ç›®ç±»å‹æ£€æµ‹ï¼Œè‡ªåŠ¨é€‚é…ä¸åŒçš„é¡¹ç›®ç»“æ„ã€‚

### æ£€æµ‹ç®—æ³•

#### 1. æ–‡ä»¶ç±»å‹ç»Ÿè®¡

```javascript
// æ‰«æç›®å½•ï¼Œç»Ÿè®¡æ–‡ä»¶ç±»å‹
const fileStats = {
  markdown: 0,  // .md æ–‡ä»¶
  code: 0,      // ä»£ç æ–‡ä»¶
  config: 0,    // é…ç½®æ–‡ä»¶
  data: 0,      // æ•°æ®æ–‡ä»¶
  other: 0      // å…¶ä»–æ–‡ä»¶
};

// ç»Ÿè®¡é€»è¾‘
if (file.match(/\.md$/i)) fileStats.markdown++;
else if (file.match(/\.(js|ts|py|go|java)$/)) fileStats.code++;
else if (file.match(/\.(json|yaml|xml)$/)) fileStats.config++;
else if (file.match(/\.(csv|txt|log)$/)) fileStats.data++;
```

#### 2. é¡¹ç›®ç±»å‹åˆ¤æ–­

```javascript
// å¯å‘å¼ç®—æ³•
if (fileStats.markdown > 5 && fileStats.code < 3) {
  projectType = 'documentation';  // æ–‡æ¡£é¡¹ç›®
} else if (fileStats.code > 5) {
  projectType = 'code';           // ç¼–ç¨‹é¡¹ç›®
} else if (fileStats.config > 3) {
  projectType = 'config';         // é…ç½®é¡¹ç›®
} else {
  projectType = 'mixed';          // æ··åˆé¡¹ç›®
}
```

**åˆ¤æ–­é€»è¾‘**:
- **æ–‡æ¡£é¡¹ç›®**: Markdown æ–‡ä»¶å ä¸»å¯¼ï¼ˆ> 5ï¼‰ï¼Œä»£ç æ–‡ä»¶å¾ˆå°‘ï¼ˆ< 3ï¼‰
- **ç¼–ç¨‹é¡¹ç›®**: ä»£ç æ–‡ä»¶å ä¸»å¯¼ï¼ˆ> 5ï¼‰
- **é…ç½®é¡¹ç›®**: é…ç½®æ–‡ä»¶å ä¸»å¯¼ï¼ˆ> 3ï¼‰
- **æ··åˆé¡¹ç›®**: å…¶ä»–æƒ…å†µï¼ˆå®‰å…¨å…œåº•ï¼‰

### ä¸‰ç§é¡¹ç›®ç±»å‹çš„æ”¯æŒ

#### ğŸ“š æ–‡æ¡£é¡¹ç›® (Documentation)

**ç‰¹å¾**:
- å¤§é‡ Markdown æ–‡ä»¶
- å°‘é‡æˆ–æ²¡æœ‰ä»£ç æ–‡ä»¶
- å…¸å‹æ¡ˆä¾‹: engineer-methodã€çŸ¥è¯†åº“ã€æ–‡æ¡£ç«™ç‚¹

**æ‰«æç­–ç•¥**:
```javascript
// æ–‡æ¡£ç›®å½•
const docDirs = ['_ç³»ç»Ÿ', 'é¡¹ç›®', 'docs', 'doc', 'æ–‡æ¡£', 'guides', 'æŒ‡å—'];

// è¯»å–æ‰€æœ‰ Markdown æ–‡ä»¶
for (const file of allFiles) {
  if (file.match(/\.md$/i)) {
    // è¯»å–å†…å®¹
  }
}

// æ‰«ææ–‡æ¡£å­ç›®å½•
for (const dir of docDirs) {
  // é€’å½’è¯»å–
}
```

**æ”¯æŒçš„ç‰¹æ®Šç›®å½•**:
- `_ç³»ç»Ÿ/` - engineer-method ä½¿ç”¨
- `é¡¹ç›®/` - é¡¹ç›®ç®¡ç†
- `docs/`, `doc/` - è‹±æ–‡æ–‡æ¡£ç›®å½•
- `æ–‡æ¡£/`, `æŒ‡å—/` - ä¸­æ–‡æ–‡æ¡£ç›®å½•

**æ”¯æŒçš„ç‰¹æ®Šæ–‡ä»¶**:
- `README.md`
- `CLAUDE.md`
- `GEMINI.md`
- `é¡¹ç›®è¯´æ˜.md` - ä¸­æ–‡æ–‡æ¡£

#### ğŸ’» ç¼–ç¨‹é¡¹ç›® (Code)

**ç‰¹å¾**:
- å¤§é‡ä»£ç æ–‡ä»¶ï¼ˆ> 5ï¼‰
- å°‘é‡ Markdown æ–‡ä»¶
- å…¸å‹æ¡ˆä¾‹: Web åº”ç”¨ã€å·¥å…·åº“ã€åç«¯æœåŠ¡

**æ‰«æç­–ç•¥**:
```javascript
// æºä»£ç ç›®å½•
const srcDirs = ['src', 'lib', 'app', 'server', 'components', 'handlers', 'utils', 'services'];

// è¯»å–ä»£ç æ–‡ä»¶
if (file.match(/\.(js|ts|jsx|tsx|py|java|go|rs|cpp|c|cs|sh|bash|ps1|php|rb)$/)) {
  // è¯»å–æºä»£ç 
}
```

**æ”¯æŒçš„ç¼–ç¨‹è¯­è¨€** (16 ç§):
- Web: .js, .jsx, .ts, .tsx
- Backend: .py, .java, .go, .rs, .php, .rb
- System: .c, .cpp, .cs
- Scripts: .sh, .bash, .ps1

**æ”¯æŒçš„å…³é”®æ–‡ä»¶**:
- `package.json` - Node.js é¡¹ç›®
- `tsconfig.json` - TypeScript é…ç½®
- `.gitignore` - Git å¿½ç•¥è§„åˆ™

#### ğŸ—‚ï¸ æ··åˆé¡¹ç›® (Mixed)

**ç‰¹å¾**:
- æ··åˆæ–‡ä»¶ç±»å‹
- é…ç½®æ–‡ä»¶å ä¸»å¯¼
- å…¸å‹æ¡ˆä¾‹: é…ç½®ç®¡ç†ã€æ•°æ®å·¥ç¨‹ã€å°å‹å·¥å…·

**æ‰«æç­–ç•¥**:
```javascript
// æ’é™¤ä¸´æ—¶æ–‡ä»¶
const ignorePatterns = [
  'node_modules', '.git', 'dist', 'build', 'coverage', '.next',
  '.DS_Store', '*.log', '*.tmp', '.cache', 'Thumbs.db'
];

// è¯»å–æ‰€æœ‰é‡è¦æ–‡ä»¶
for (const entry of entries) {
  if (!shouldIgnore && fileSize <= 15KB) {
    // è¯»å–å†…å®¹
  }
}
```

**æ”¯æŒçš„æ–‡ä»¶ç±»å‹**:
- é…ç½®: .json, .yaml, .yml, .xml, .toml, .ini, .conf, .env
- æ•°æ®: .csv, .tsv, .txt, .log
- ä»£ç : 16 ç§ç¼–ç¨‹è¯­è¨€
- æ–‡æ¡£: Markdown

### æ–‡ä»¶è¯»å–é™åˆ¶

ä¸ºé˜²æ­¢å†…å­˜æº¢å‡ºå’Œä¸Šä¸‹æ–‡è¶…é™ï¼Œè®¾ç½®äº†ä¸¥æ ¼çš„ç¡¬é™åˆ¶ï¼š

```javascript
// å•æ–‡ä»¶å¤§å°é™åˆ¶
const maxFileSize = 10000;  // 10KB (ä»£ç é¡¹ç›®)
const maxFileSize = 15000;  // 15KB (æ··åˆé¡¹ç›®)

// æ–‡ä»¶æ•°é‡é™åˆ¶
const maxFiles = 20;  // ä»£ç é¡¹ç›®
const maxDirFiles = 15;  // æ–‡æ¡£ç›®å½•

// æ€»å†…å®¹é•¿åº¦é™åˆ¶
const maxContentLength = 50000;  // 50KB

// å†…å®¹æˆªæ–­
content.substring(0, maxContentLength) + '\n\n[Content truncated...]';
```

### é”™è¯¯å¤„ç†

```javascript
// å•ä¸ªæ–‡ä»¶è¯»å–å¤±è´¥ä¸å½±å“æ•´ä½“åˆ†æ
try {
  const content = await fs.readFile(filePath, 'utf8');
  // å¤„ç†å†…å®¹
} catch (e) {
  // å¿½ç•¥è¯»å–å¤±è´¥çš„æ–‡ä»¶ï¼Œç»§ç»­å¤„ç†å…¶ä»–æ–‡ä»¶
}
```

**ä¼˜åŠ¿**:
- âœ… å¥å£®æ€§å¼ºï¼šå•ä¸ªæ–‡ä»¶å¤±è´¥ä¸ä¸­æ–­åˆ†æ
- âœ… ç”¨æˆ·ä½“éªŒå¥½ï¼šå°½å¯èƒ½å¤šåœ°æä¾›æœ‰ç”¨ä¿¡æ¯
- âœ… å®‰å…¨æ€§å¥½ï¼šé¿å…æ— é™é€’å½’å’Œå†…å­˜æº¢å‡º

### æ¶æ„ä¼˜åŠ¿

#### 1. é€šç”¨æ€§

```
ä¿®å¤å‰: åªæ”¯æŒç¼–ç¨‹é¡¹ç›® âŒ
ä¿®å¤å: æ”¯æŒ 3 ç§é¡¹ç›®ç±»å‹ âœ…

æ–‡æ¡£é¡¹ç›®:  âœ… å®Œå…¨æ”¯æŒ
ç¼–ç¨‹é¡¹ç›®:  âœ… å®Œå…¨æ”¯æŒ
é…ç½®é¡¹ç›®:  âœ… å®Œå…¨æ”¯æŒ
æ··åˆé¡¹ç›®:  âœ… å®Œå…¨æ”¯æŒ
```

#### 2. æ™ºèƒ½åŒ–

```
è‡ªåŠ¨æ£€æµ‹:   âœ… æ— éœ€æ‰‹åŠ¨é…ç½®
è‡ªé€‚åº”:     âœ… æ ¹æ®é¡¹ç›®ç±»å‹è°ƒæ•´ç­–ç•¥
å›½é™…åŒ–:     âœ… æ”¯æŒä¸­æ–‡ç›®å½•å’Œæ–‡ä»¶å
```

#### 3. å¯æ‰©å±•

```javascript
// æ˜“äºæ·»åŠ æ–°çš„é¡¹ç›®ç±»å‹
if (fileStats.sql > 10) {
  projectType = 'database';  // æ•°æ®åº“é¡¹ç›®
}

// æ˜“äºæ·»åŠ æ–°çš„æ–‡ä»¶ç±»å‹
else if (file.match(/\.sql$/)) fileStats.sql++;
```

### æ€§èƒ½ä¼˜åŒ–

```javascript
// ä½¿ç”¨ withFileTypes å‡å°‘ stat è°ƒç”¨
const entries = await fs.readdir(target, { withFileTypes: true });

// å•å±‚æ·±åº¦æ¢æµ‹ï¼Œé¿å…æ— é™é€’å½’
// åªè¯»å–å¿…è¦çš„å†…å®¹ï¼Œé¿å…è¿‡åº¦åŠ è½½
// ä¸¥æ ¼çš„ç¡¬é™åˆ¶ï¼Œé˜²æ­¢èµ„æºè€—å°½
```

---

## MCP Server

### å·¥å…·æ¸…å• (v1.1.0)

| å·¥å…·å | ç”¨é€” | å‚æ•° | å¤æ‚åº¦ |
|--------|------|------|--------|
| `gemini_chat` | åŸºç¡€å¯¹è¯ | prompt, model | ğŸŸ¢ ç®€å• |
| `gemini_model_info` | æ¨¡å‹ä¿¡æ¯ | æ—  | ğŸŸ¢ ç®€å• |
| `gemini_analyze` | æ·±åº¦åˆ†æ | target, analysis_type, model | ğŸŸ¡ ä¸­ç­‰ |
| `init_gemini` | é¡¹ç›®åˆå§‹åŒ– | project_path, model | ğŸŸ¡ ä¸­ç­‰ |

### å·¥å…·è¯¦è§£

#### 1. gemini_chat

**ç”¨é€”**: å‘ Gemini å‘é€æç¤ºè¯å¹¶è·å–å“åº”

**å®ç°**:
```javascript
async function callGemini(prompt, model = null) {
  const args = [];
  if (model) args.push('-m', model);
  args.push(prompt);

  const { stdout } = await spawnAsync('gemini', args, { env });
  return stdout.trim();
}
```

**å®‰å…¨ç‰¹æ€§**:
- âœ… ä½¿ç”¨ `spawn` + å‚æ•°æ•°ç»„
- âœ… Node.js è‡ªåŠ¨è½¬ä¹‰
- âœ… å®Œå…¨é¿å…å‘½ä»¤æ³¨å…¥

#### 2. gemini_model_info

**ç”¨é€”**: è·å– Gemini CLI ç‰ˆæœ¬å’Œå¯ç”¨æ¨¡å‹

**å®ç°**:
```javascript
const { stdout: version } = await spawnAsync('gemini', ['--version']);
```

#### 3. gemini_analyze (ğŸ†•)

**ç”¨é€”**: åˆ©ç”¨ Gemini çš„å¤§ä¸Šä¸‹æ–‡èƒ½åŠ›è¿›è¡Œæ·±åº¦åˆ†æ

**åˆ†æç±»å‹**:
- `security` - å®‰å…¨æ¼æ´
- `performance` - æ€§èƒ½ç“¶é¢ˆ
- `architecture` - æ¶æ„å®¡æŸ¥
- `bugs` - Bug æ£€æµ‹
- `review` - å…¨é¢å®¡æŸ¥
- `general` - ç»¼åˆåˆ†æ

**å®ç°**:
```javascript
const prompts = {
  security: 'Analyze for security vulnerabilities...',
  performance: 'Analyze for performance issues...',
  // ...
};

const response = await callGemini(`${prompts[type]}\n\nTarget: ${target}`);
```

#### 4. init_gemini (ğŸ†•)

**ç”¨é€”**: åˆ†æé¡¹ç›®å¹¶ç”Ÿæˆ GEMINI.md æ–‡æ¡£

**å®ç°æµç¨‹**:
```javascript
1. ç”Ÿæˆåˆ†æ prompt
2. è°ƒç”¨ Gemini åˆ†æé¡¹ç›®
3. å†™å…¥ GEMINI.md æ–‡ä»¶
4. è¿”å›ç¡®è®¤å’Œå†…å®¹é¢„è§ˆ
```

**ç”Ÿæˆå†…å®¹**:
- é¡¹ç›®æ¦‚è§ˆ
- æŠ€æœ¯æ ˆåˆ†æ
- æ¶æ„è¯´æ˜
- å¼€å‘æŒ‡å—
- AI ä¸Šä¸‹æ–‡

---

## Skills ç³»ç»Ÿ

### æŠ€èƒ½æ¸…å• (v1.1.0)

| Skill | è§¦å‘å…³é”®è¯ | ç”¨é€” | å¤æ‚åº¦ |
|-------|-----------|------|--------|
| `ai-compare` | "å¯¹æ¯”", "compare", "ä¸¤ä¸ª AI" | å“åº”å¯¹æ¯” | ğŸŸ¢ ç®€å• |
| `gemini-analyzer` | "ç”¨ Gemini åˆ†æ", "å¤§æ–‡ä»¶" | æ·±åº¦åˆ†æ | ğŸŸ¡ ä¸­ç­‰ |
| `dual-review` | "åŒ AI å®¡æŸ¥", "åŒé‡éªŒè¯" | ç‹¬ç«‹å®¡æŸ¥ | ğŸ”´ å¤æ‚ |

### Skill ç»“æ„

```yaml
---
name: skill-name
description: Triggering keywords for auto-activation
allowed-tools: tool1, tool2, ...
---

# Skill Content

## When to Use
## Usage Pattern
## Best Practices
## Examples
```

### gemini-analyzer Skill (ğŸ†•)

**è®¾è®¡ç†å¿µ**: å……åˆ†åˆ©ç”¨ Gemini çš„ 1M token ä¸Šä¸‹æ–‡

**é€‚ç”¨åœºæ™¯**:
- å¤§æ–‡ä»¶åˆ†æï¼ˆ5000+ è¡Œï¼‰
- ä»£ç åº“å®¡æŸ¥ï¼ˆ100+ æ–‡ä»¶ï¼‰
- è·¨æ–‡ä»¶ä¾èµ–åˆ†æ
- å…¨é¢é¡¹ç›®å®¡æŸ¥

**ä¸é€‚ç”¨åœºæ™¯**:
- å°æ–‡ä»¶ï¼ˆ< 1000 è¡Œï¼‰
- å¿«é€Ÿè¯­æ³•é—®é¢˜
- å®æ—¶ä»£ç ç”Ÿæˆ

### dual-review Skill (ğŸ†•)

**å·¥ä½œæµç¨‹**:
```
Phase 1: Claude ç‹¬ç«‹å®¡æŸ¥
         â†“
Phase 2: Gemini ç‹¬ç«‹å®¡æŸ¥ï¼ˆå¤§ä¸Šä¸‹æ–‡ï¼‰
         â†“
Phase 3: Claude æ±‡æ€»å¯¹æ¯”
         â†“
Phase 4: ç»¼åˆå»ºè®®
```

**å…³é”®ä»·å€¼**:
- âœ… å‡å°‘ç›²ç‚¹
- âœ… äº¤å‰éªŒè¯
- âœ… æå‡ä¿¡å¿ƒåº¦
- âœ… æ›´å…¨é¢çš„è¦†ç›–

---

## Agents ç³»ç»Ÿ

### Agent æ¸…å• (v1.1.0)

| Agent | è§¦å‘æ–¹å¼ | ç”¨é€” | åä½œæ¨¡å¼ |
|-------|---------|------|----------|
| `multi-ai-orchestrator` | "åä½œ", "orchestrate" | å¤æ‚ä»»åŠ¡ç¼–æ’ | 5 ç§æ¨¡å¼ |
| `init-gemini` | "åˆå§‹åŒ–", "init" | é¡¹ç›®åˆå§‹åŒ– | å•ä¸€æ¨¡å¼ |

### multi-ai-orchestrator Agent

**5 ç§åä½œæ¨¡å¼**:

| æ¨¡å¼ | è§¦å‘è¯ | é€‚ç”¨åœºæ™¯ |
|------|--------|----------|
| **Sequential** (ğŸ”) | "æµæ°´çº¿", "ä¸²è¡Œ" | å¤šé˜¶æ®µå·¥ä½œæµ |
| **Parallel** (âš¡) | "å¹¶è¡Œ", "åŒæ—¶" | æ—¶é—´æ•æ„Ÿä»»åŠ¡ |
| **Competitive** (ğŸ†) | "ç«äº‰", "å¯¹æ¯”" | æ¢ç´¢ä¸åŒæ–¹æ¡ˆ |
| **Collaborative** (ğŸ¤) | "åä½œ", "è”åˆ" | å¤æ‚é—®é¢˜è§£å†³ |
| **Supervisor-Worker** (ğŸ‘”) | "ç›‘ç£", "åˆ†é…" | å¤§å‹é¡¹ç›®ç®¡ç† |

### init-gemini Agent (ğŸ†•)

**ç”¨é€”**: ç”Ÿæˆ GEMINI.md é¡¹ç›®æ–‡æ¡£

**ä¸ CLAUDE.md çš„å…³ç³»**:
```
CLAUDE.md:          GEMINI.md:
- Claude çš„è§†è§’     - Gemini çš„è§†è§’
- å·¥ä½œæµç¨‹å¯¼å‘     - é¡¹ç›®ç†è§£å¯¼å‘
- å‘½ä»¤æ¨¡å¼         - æŠ€æœ¯åˆ†æ
- é¡¹ç›®ç‰¹å®š         - æŠ€æœ¯æ ˆä¸­ç«‹
```

**äº’è¡¥æ€§**: ä¸¤è€…ä¸€èµ·æä¾›å®Œæ•´çš„ AI è¾…åŠ©ä¸Šä¸‹æ–‡

---

## æ•°æ®æµ

### åœºæ™¯ 1: ç®€å•æŸ¥è¯¢

```
ç”¨æˆ· â†’ Claude â†’ MCP Server â†’ Gemini CLI â†’ Gemini API
                                    â†“
ç”¨æˆ· â† Claude â† MCP Server â† Gemini CLI â† Gemini API
```

**è€—æ—¶**: 1-5 ç§’

### åœºæ™¯ 2: å¤§æ–‡ä»¶åˆ†æ (gemini-analyzer)

```
ç”¨æˆ· â†’ Claude â†’ Skill è§¦å‘
                â†“
            MCP Server â†’ Gemini CLI â†’ Gemini API
                                    â†“
ç”¨æˆ· â† Claude â† æ±‡æ€»åˆ†æ â† â† â† â† â† â† â† â†
```

**è€—æ—¶**: 5-30 ç§’ï¼ˆå–å†³äºåˆ†æå¤æ‚åº¦ï¼‰

### åœºæ™¯ 3: åŒ AI å®¡æŸ¥ (dual-review)

```
ç”¨æˆ· â†’ Claude (ç‹¬ç«‹åˆ†æ)
                â†“
            Claude å®¡æŸ¥ç»“æœ

                â†“
            Gemini åˆ†æ (å¤§ä¸Šä¸‹æ–‡)
                â†“
            Gemini å®¡æŸ¥ç»“æœ
                â†“
            Claude æ±‡æ€»å¯¹æ¯”
                â†“
            ç»¼åˆæŠ¥å‘Š
```

**è€—æ—¶**: 30-120 ç§’ï¼ˆ2-3 å€å•å®¡æŸ¥ï¼‰

---

## å®‰å…¨æ€§

### å®‰å…¨æªæ–½

#### 1. å‘½ä»¤æ³¨å…¥é˜²æŠ¤ âœ…

**å¨èƒ**: ç”¨æˆ· prompt åŒ…å«æ¶æ„å‘½ä»¤ï¼ˆå¦‚ `$(rm -rf /)`ï¼‰

**é˜²å¾¡**:
```javascript
// âŒ å±é™©ï¼ˆå·²ä¿®å¤ï¼‰
const command = `gemini "${prompt.replace(/"/g, '\\"')}"`;
await execAsync(command);

// âœ… å®‰å…¨ï¼ˆå½“å‰ï¼‰
const args = [prompt];
await spawnAsync('gemini', args);
```

**æµ‹è¯•ç»“æœ**:
- âœ… åˆ†å·æ³¨å…¥è¢«é˜»æ­¢
- âœ… åå¼•å·æ³¨å…¥è¢«é˜»æ­¢
- âœ… $() æ³¨å…¥è¢«é˜»æ­¢

#### 2. ç¯å¢ƒå˜é‡éš”ç¦» âœ…

```javascript
const proxy = process.env.HTTPS_PROXY || ...;
const env = proxy ?
  { ...process.env, all_proxy: proxy, ... } :
  process.env;
```

#### 3. è¾“å…¥éªŒè¯ âœ…

```javascript
if (!prompt || typeof prompt !== 'string') {
  throw new Error('Prompt is required and must be a string');
}
```

### å®‰å…¨è¯„ä¼°

| å¨èƒ | é˜²å¾¡ | çŠ¶æ€ |
|------|------|------|
| å‘½ä»¤æ³¨å…¥ | spawn + å‚æ•°æ•°ç»„ | âœ… å·²ä¿®å¤ |
| è·¯å¾„éå† | è¾“å…¥éªŒè¯ | âœ… å·²å®ç° |
| èµ„æºè€—å°½ | è¶…æ—¶æ§åˆ¶ | âœ… å·²å®ç° |
| æ•°æ®æ³„éœ² | æ— æ•æ„Ÿæ•°æ®å­˜å‚¨ | âœ… æ— é£é™© |

**å®‰å…¨è¯„åˆ†**: 9.0/10 ğŸŸ¢

---

## æ€§èƒ½è€ƒè™‘

### æ€§èƒ½ç‰¹å¾

| æ“ä½œ | å…¸å‹è€—æ—¶ | å½±å“å› ç´  |
|------|---------|---------|
| `gemini_chat` | 1-5 ç§’ | Prompt é•¿åº¦ã€æ¨¡å‹é€‰æ‹© |
| `gemini_model_info` | < 1 ç§’ | ç³»ç»Ÿ I/O |
| `gemini_analyze` | 5-30 ç§’ | åˆ†æç±»å‹ã€ä»£ç é‡ |
| `init_gemini` | 10-60 ç§’ | é¡¹ç›®å¤§å° |

### æ€§èƒ½ç“¶é¢ˆ

1. **è¿›ç¨‹å¯åŠ¨å¼€é”€**
   - **é—®é¢˜**: æ¯æ¬¡ Gemini è°ƒç”¨éƒ½å¯åŠ¨æ–°è¿›ç¨‹
   - **å½±å“**: 100-500ms å›ºå®šå¼€é”€
   - **ä¼˜åŒ–**: æ— ï¼ˆå¤–éƒ¨ä¾èµ–é™åˆ¶ï¼‰

2. **ç½‘ç»œå»¶è¿Ÿ**
   - **é—®é¢˜**: Gemini API è°ƒç”¨å»¶è¿Ÿ
   - **å½±å“**: ä¸»è¦è€—æ—¶ï¼ˆ80-90%ï¼‰
   - **ä¼˜åŒ–**: æ— ï¼ˆå¤–éƒ¨ä¾èµ–ï¼‰

3. **å¤§ä¸Šä¸‹æ–‡å¤„ç†**
   - **é—®é¢˜**: Gemini å¤„ç† 1M token è¾ƒæ…¢
   - **å½±å“**: `gemini_analyze` å¯èƒ½è€—æ—¶ 30+ ç§’
   - **ä¼˜åŒ–**: åˆç†ä½¿ç”¨åœºæ™¯

### æ€§èƒ½ä¼˜åŒ–å»ºè®®

#### P0: åˆç†ä½¿ç”¨
```
âœ… DO:
- å°ä»»åŠ¡ç”¨ Claudeï¼ˆæ›´å¿«ï¼‰
- åªåœ¨å¿…è¦æ—¶ç”¨ Geminiï¼ˆå¤§ä¸Šä¸‹æ–‡ï¼‰
- å¹¶è¡Œè°ƒç”¨ï¼ˆå¦‚æœå¯èƒ½ï¼‰

âŒ DON'T:
- æ‰€æœ‰ä»»åŠ¡éƒ½ç”¨ Geminiï¼ˆæ…¢ï¼‰
- é¢‘ç¹å°è°ƒç”¨ï¼ˆå¼€é”€å¤§ï¼‰
- é‡å¤æŸ¥è¯¢ç›¸åŒå†…å®¹
```

#### P1: ç¼“å­˜ï¼ˆæœªæ¥ï¼‰
```javascript
// å»ºè®®å®ç°
const cache = new Map();

async function cachedCall(prompt) {
  const key = hash(prompt);
  if (cache.has(key)) return cache.get(key);

  const result = await callGemini(prompt);
  cache.set(key, result);
  return result;
}
```

---

## æ‰©å±•æ€§

### æ·»åŠ æ–°å·¥å…·

**æ­¥éª¤**:
1. åœ¨ `src/index.js` ä¸­å®šä¹‰å·¥å…·
2. æ·»åŠ åˆ° `ListToolsRequestSchema` å¤„ç†å™¨
3. æ·»åŠ åˆ° `CallToolRequestSchema` å¤„ç†å™¨
4. è¿è¡Œæµ‹è¯•

**ç¤ºä¾‹**:
```javascript
{
  name: 'new_tool',
  description: 'What it does',
  inputSchema: {
    type: 'object',
    properties: {
      param: { type: 'string' }
    },
    required: ['param']
  }
}
```

### æ·»åŠ æ–° Skill

**æ­¥éª¤**:
1. åˆ›å»º `~/.claude/skills/new-skill/SKILL.md`
2. å®šä¹‰ frontmatter
3. ç¼–å†™æŠ€èƒ½å†…å®¹
4. é‡å¯ Claude Code

**ç¤ºä¾‹**:
```markdown
---
name: new-skill
description: Triggering keywords
allowed-tools: tool1, tool2
---

# Skill Content
```

### æ·»åŠ æ–° Agent

**æ­¥éª¤**:
1. åˆ›å»º `~/.claude/agents/new-agent/AGENT.md`
2. å®šä¹‰ frontmatter
3. ç¼–å†™ä»£ç†å†…å®¹
4. é‡å¯ Claude Code

---

## ç‰ˆæœ¬å†å²

### v1.1.0 (2025-01-07) ğŸ†•

**æ–°å¢**:
- âœ… `gemini_analyze` å·¥å…· - æ·±åº¦åˆ†æ
- âœ… `init_gemini` å·¥å…· - é¡¹ç›®åˆå§‹åŒ–
- âœ… `gemini-analyzer` Skill
- âœ… `dual-review` Skill
- âœ… `init-gemini` Agent

**ä¿®å¤**:
- âœ… å‘½ä»¤æ³¨å…¥æ¼æ´ï¼ˆä½¿ç”¨ spawnï¼‰
- âœ… æµ‹è¯•ä»£ç åŒæ­¥

**æ–‡æ¡£**:
- âœ… ARCHITECTURE.mdï¼ˆæœ¬æ–‡æ¡£ï¼‰
- âœ… æ›´æ–° README.md

### v1.0.1 (2025-01-07)

**ä¿®å¤**:
- ç§»é™¤ `gemini_compare` å·¥å…·
- æ›´æ–°æ‰€æœ‰æ–‡æ¡£å¼•ç”¨

### v1.0.0 (åˆå§‹ç‰ˆæœ¬)

**åŠŸèƒ½**:
- âœ… `gemini_chat` å·¥å…·
- âœ… `gemini_model_info` å·¥å…·
- âœ… `ai-compare` Skill
- âœ… `multi-ai-orchestrator` Agent

---

## æ€»ç»“

Claude-Gemini Bridge æ˜¯ä¸€ä¸ª**ç®€æ´ã€å®ç”¨ã€å®‰å…¨**çš„åŒ AI åä½œå·¥å…·é›†ï¼š

### æ ¸å¿ƒä¼˜åŠ¿
1. âœ… **å®‰å…¨æ€§**: å‘½ä»¤æ³¨å…¥æ¼æ´å·²ä¿®å¤
2. âœ… **ç®€æ´æ€§**: 4 ä¸ªå·¥å…·ï¼ŒèŒè´£æ¸…æ™°
3. âœ… **å®ç”¨æ€§**: åŸºäºçœŸå®åœºæ™¯è®¾è®¡
4. âœ… **å¯æ‰©å±•**: MCP åè®®æ ‡å‡†åŒ–

### è®¾è®¡å“²å­¦
> "ä¸è¦åšå‘½ä»¤è¡Œçš„èŠå¤©æœºå™¨äººï¼Œè¦åš Claude çš„è¶…é•¿ä¸Šä¸‹æ–‡æ’ä»¶ã€‚"

### é€‚ç”¨åœºæ™¯
- âœ… å¤§æ–‡ä»¶å’Œä»£ç åº“åˆ†æ
- âœ… åŒ AI ç‹¬ç«‹å®¡æŸ¥
- âœ… é¡¹ç›®åˆå§‹åŒ–å’Œæ–‡æ¡£åŒ–
- âœ… å¤æ‚å¤š AI åä½œ

---

**æ–‡æ¡£ç‰ˆæœ¬**: 1.1.0
**æœ€åæ›´æ–°**: 2025-01-07
**ç»´æŠ¤è€…**: claude-gemini-bridge
